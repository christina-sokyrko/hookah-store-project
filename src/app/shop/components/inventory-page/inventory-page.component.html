<div class="main-main-wrapper">
    <div class="main-wrapper">
        <nav class="navbar navbar-expand-md container navbar-dark">
            <div class="row left-small">
                <a [routerLink]="''">
                    <i class="bi bi-house-door home-icon"></i>
                </a>
                <span class="arrow"> > </span>
                <span class="calians"> Кальяни </span>
            </div>
            <button class="navbar-toggler" type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#inventoryNavBar"
                    aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="inventoryNavBar">
                <div class="collapsed-menu">
                    <accordion [isAnimated]="true" class="card-accordion">
                        <accordion-group
                                (isOpenChange)="toggleAccordion($event, 1)"
                                style="margin-top: 10px;">
                            <button class="btn btn-link btn-block"
                                    accordion-heading type="button">
                                <div class="">Категорії</div>
                                <span class="">
                            <p *ngIf="isContentOpen[1]">-</p>
                            <p *ngIf="!isContentOpen[1]">+</p>
                        </span>
                            </button>
                            <div *ngFor="let category of categories">
                                <input type="checkbox" class="choosing"
                                       [(ngModel)]="isChecked[category.id]"
                                       (change)="filterProduct(isChecked[category.id], category.id)">
                                <label>{{category.name}}</label>
                            </div>
                        </accordion-group>
                        <accordion-group class="ac-group"
                                         (isOpenChange)="toggleAccordion($event, 2)">
                            <button class="btn btn-link btn-block clearfix"
                                    accordion-heading type="button">
                                <div class="pull-left float-left">Виробник</div>
                                <span class="float-right pull-right">
                            <p *ngIf="isContentOpen[2]">-</p>
                            <p *ngIf="!isContentOpen[2]">+</p>
                        </span>
                            </button>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Україна</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Китай</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Турція</label>
                            <br/></accordion-group>
                        <accordion-group class="ac-group"
                                         (isOpenChange)="toggleAccordion($event, 3)">
                            <button class="btn btn-link btn-block clearfix"
                                    accordion-heading type="button">
                                <div class="pull-left float-left">Ціна</div>
                                <span class="float-right pull-right">
                            <p *ngIf="isContentOpen[3]">-</p>
                            <p *ngIf="!isContentOpen[3]">+</p>
                        </span>
                            </button>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Дорогі</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Дешеві</label>
                        </accordion-group>
                    </accordion>
                </div>
            </div>
        </nav>
        <div class="container-lg">
            <section class="inventory">
                <div class="side-bar d-none d-md-block d-lg-block">
                    <accordion [isAnimated]="true">
                        <accordion-group
                                (isOpenChange)="toggleAccordion($event, 1)">
                            <button class="btn btn-link btn-block clearfix"
                                    accordion-heading type="button">
                                <div class="pull-left float-left">Категорії
                                </div>
                                <span class=" float-right pull-right">
                            <p *ngIf="isContentOpen[1]">-</p>
                            <p *ngIf="!isContentOpen[1]">+</p>
                        </span>
                            </button>
                            <div *ngFor="let category of categories">
                                <input type="checkbox" class="choosing"
                                       [(ngModel)]="isChecked[category.id]"
                                       (change)="filterProduct(isChecked[category.id], category.id)">
                                <label>{{category.name}}</label>
                            </div>
                        </accordion-group>
                        <accordion-group
                                (isOpenChange)="toggleAccordion($event, 2)">
                            <button class="btn btn-link btn-block clearfix"
                                    accordion-heading type="button">
                                <div class="pull-left float-left">Виробник</div>
                                <span class="float-right pull-right">
                            <p *ngIf="isContentOpen[2]">-</p>
                            <p *ngIf="!isContentOpen[2]">+</p>
                        </span>
                            </button>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Україна</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Китай</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Турція</label>
                            <br/></accordion-group>
                        <accordion-group
                                (isOpenChange)="toggleAccordion($event, 3)">
                            <button class="btn btn-link btn-block clearfix"
                                    accordion-heading type="button">
                                <div class="pull-left float-left">Ціна</div>
                                <span class="float-right pull-right">
                            <p *ngIf="isContentOpen[3]">-</p>
                            <p *ngIf="!isContentOpen[3]">+</p>
                        </span>
                            </button>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Дорогі</label>
                            <br/>
                            <input type="checkbox" name="choose"
                                   class="choosing">
                            <label for="choose">Дешеві</label>
                        </accordion-group>
                    </accordion>

                </div>
                <div class="row items">
                    <div class="card col-md-3 m-2 item"
                         *ngFor="let product of items">
                        <div class="image-thumb"
                             [routerLink]="['item-page', product.id]">
                            <p>
                                {{product.sub_category.name}}
                            </p>
                        </div>
                        <img src="{{product.picture.url}}"
                             class="card-img-top"
                             [routerLink]="['item-page', product.id]">
                        <div class="card-body">
                            <a [routerLink]="['item-page', product.id]"><p
                                    class="item-name">{{product.name}}</p>
                            </a>
                            <div class="description">
                                <div class="price">
                                    <p class="number">{{product.price}}₴</p>
                                    <p class="availability">В наявності</p>
                                </div>
                                <button class="shop"
                                        (click)="addToCart(product)"><i
                                        class="bi bi-cart-plus shop-icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="position: fixed; right: 40px; bottom: 20px">
                    <button *ngIf="isShow" (click)="gotoTop()"
                            style="background: none; border: none; outline: none">
                        <i
                                class="bi bi-arrow-up-circle-fill"
                                style="font-size: 40px; color: white"></i>
                    </button>
                </div>
            </section>
        </div>
    </div>
</div>
